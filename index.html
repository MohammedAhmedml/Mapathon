<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Aligarh Geospatial Project | LULC Analysis | Mapathon 2026</title>

<link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
<link rel="stylesheet" href="styles.css">

<style>

/* ================= AI CHAT STYLING ================= */

#ai-toggle {
  position: fixed;
  bottom: 25px;
  right: 25px;
  background: linear-gradient(135deg, #0077ff, #00c6ff);
  color: white;
  border: none;
  padding: 14px 18px;
  border-radius: 50px;
  font-weight: 600;
  cursor: pointer;
  box-shadow: 0 8px 20px rgba(0,0,0,0.2);
  z-index: 9999;
  transition: 0.3s ease;
}

#ai-toggle:hover {
  transform: scale(1.05);
}

#ai-chatbox {
  position: fixed;
  bottom: 90px;
  right: 25px;
  width: 340px;
  max-height: 480px;
  background: white;
  border-radius: 18px;
  box-shadow: 0 15px 40px rgba(0,0,0,0.25);
  display: none;
  flex-direction: column;
  overflow: hidden;
  z-index: 9999;
  animation: slideUp 0.3s ease forwards;
}

#ai-chatbox.active {
  display: flex;
}

#ai-header {
  background: linear-gradient(135deg, #0077ff, #00c6ff);
  color: white;
  padding: 15px;
  font-weight: bold;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

#ai-close {
  cursor: pointer;
}

#ai-messages {
  flex: 1;
  padding: 12px;
  overflow-y: auto;
  background: #f4f6f9;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.user-message {
  background: #0077ff;
  color: white;
  padding: 10px 14px;
  border-radius: 14px;
  max-width: 80%;
  align-self: flex-end;
}

.bot-message {
  background: #e4e7ec;
  color: #333;
  padding: 10px 14px;
  border-radius: 14px;
  max-width: 80%;
  align-self: flex-start;
}

#ai-input-area {
  display: flex;
  border-top: 1px solid #ddd;
}

#ai-input {
  flex: 1;
  border: none;
  padding: 12px;
  outline: none;
}

#ai-send {
  background: #0077ff;
  border: none;
  color: white;
  padding: 0 18px;
  cursor: pointer;
}

@keyframes slideUp {
  from { transform: translateY(20px); opacity: 0; }
  to { transform: translateY(0); opacity: 1; }
}

</style>

</head>

<body>

<!-- ================= NAVBAR ================= -->
<header class="navbar">
    <div class="nav-container">
        <a href="index.html" class="logo">ALIGARH GIS</a>

        <nav class="nav-links" id="navLinks">
            <a href="index.html" class="active">Home</a>
            <a href="analysis.html">Analysis</a>
            <a href="lulc-data.html">LULC Data</a>
            <a href="team.html">Team</a>
        </nav>

        <div class="hamburger" id="hamburger">&#9776;</div>
    </div>
</header>

<!-- ================= HERO ================= -->
<section class="hero">
    <div class="hero-text" data-aos="fade-down">
        <h1>ALIGARH LULC ANALYSIS</h1>
        <p>Land Use Land Cover Change Detection</p>
    </div>
</section>

<!-- ================= PROJECT CARDS ================= -->
<section style="padding: 80px 0 0;">
    <div class="section-heading" data-aos="fade-up">
        <h2>Explore the Project</h2>
        <p>Navigate to different sections of our geospatial analysis</p>
    </div>

    <div class="page-cards">
        <a href="analysis.html" class="page-card" data-aos="fade-up">
            <h3>Satellite Analysis</h3>
            <p>View Landsat 9 satellite imagery and analysis.</p>
        </a>

        <a href="lulc-data.html" class="page-card" data-aos="fade-up">
            <h3>LULC Data</h3>
            <p>Interactive charts showing LULC trends from 2000â€“2025.</p>
        </a>

        <a href="team.html" class="page-card" data-aos="fade-up">
            <h3>Project Team</h3>
            <p>Meet the developers behind this Mapathon project.</p>
        </a>
    </div>
</section>

<footer>
    &copy; 2026 Aligarh District Mapathon. Developed for academic submission.
</footer>

<!-- ================= AI CHAT ================= -->

<button id="ai-toggle">ðŸ’¬ LULC Assistant</button>

<div id="ai-chatbox">
  <div id="ai-header">
    LULC Assistant
    <span id="ai-close">âœ–</span>
  </div>

  <div id="ai-messages"></div>

  <div id="ai-input-area">
    <input type="text" id="ai-input" placeholder="Ask about LULC or NDVI..." />
    <button id="ai-send">Send</button>
  </div>
</div>

<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>

<script>

AOS.init({ duration: 1000, once: true });

/* ================= AI CHAT SYSTEM ================= */

const toggle = document.getElementById("ai-toggle");
const chatbox = document.getElementById("ai-chatbox");
const closeBtn = document.getElementById("ai-close");
const input = document.getElementById("ai-input");
const sendBtn = document.getElementById("ai-send");
const messages = document.getElementById("ai-messages");

toggle.onclick = () => chatbox.classList.toggle("active");
closeBtn.onclick = () => chatbox.classList.remove("active");

function addMessage(text, sender) {
  const div = document.createElement("div");
  div.className = sender === "user" ? "user-message" : "bot-message";
  div.innerText = text;
  messages.appendChild(div);
  messages.scrollTop = messages.scrollHeight;
}

async function handleSend() {
  const text = input.value.trim();
  if (!text) return;

  addMessage(text, "user");
  input.value = "";

  addMessage("Analyzing...", "bot");

  try {
    const response = await fetch("/api/chat", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ message: text }),
    });

    const data = await response.json();
    messages.lastChild.remove();
    addMessage(data.reply || "No response.", "bot");

  } catch {
    messages.lastChild.remove();
    addMessage("Error connecting to assistant.", "bot");
  }
}

sendBtn.addEventListener("click", handleSend);
input.addEventListener("keypress", e => {
  if (e.key === "Enter") handleSend();
});

</script>

</body>
</html>